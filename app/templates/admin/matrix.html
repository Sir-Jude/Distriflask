{% extends "security/base.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field, render_form_errors %}

{% block content %}
  <h2>Table of devices and releases</h2>
  <table border="3" bordercolor="#ffffff">
    <thead>
      <tr>
        <th></th>
        {% for major_version, releases in release_versions.items() %}
            {% for release in releases %}
                <th>{{ release }}</th>
            {% endfor %}
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for device in devices %}
      <tr>
        <td>{{ device.name }}</td>
        {% for major_version, releases in release_versions.items() %}
            {% for release in releases %}
                {% if release in device_versions[device] %}
                    <td>*</td>
                {% else %}
                    <td></td>
                {% endif %}
            {% endfor %}
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% include "security/_menu.html" %}
{% endblock content %}
